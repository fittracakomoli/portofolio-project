import{u,r as l,j as e}from"./app-mz0dyXM4.js";import{A as j}from"./AuthenticatedLayout-cUNHwDwe.js";import"./transition-nzCstH4V.js";function v(){const t=u({title:"",description:"",image:null,tech:[],visit_link:"",repo_link:""}),[i,n]=l.useState(""),[r,c]=l.useState(null);l.useEffect(()=>()=>{r&&r.startsWith("blob:")&&URL.revokeObjectURL(r)},[r]);function m(s){const a=s.target.files[0];if(t.setData("image",a||null),a){const d=URL.createObjectURL(a);c(d)}else c(null)}function o(s){s.preventDefault();const a=i.trim();a&&(t.setData("tech",[...t.data.tech,a]),n(""))}function x(s){const a=t.data.tech.filter((d,h)=>h!==s);t.setData("tech",a)}function p(s){s.preventDefault(),t.post(route("admin.projects.store"),{})}return e.jsx(j,{children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Create New Project"}),e.jsxs("form",{onSubmit:p,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),e.jsx("input",{type:"text",value:t.data.title,onChange:s=>t.setData("title",s.target.value),className:"shadow-sm border rounded w-full py-2 px-3",placeholder:"Enter project title"}),t.errors.title&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:t.data.description,onChange:s=>t.setData("description",s.target.value),className:"shadow-sm border rounded w-full py-2 px-3 h-28",placeholder:"Project description"}),t.errors.description&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"block w-full text-sm text-gray-700"}),r&&e.jsx("img",{src:r,alt:"preview",className:"mt-2 max-h-48 object-contain"}),t.errors.image&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.image}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Or, you can later set an external URL in the API if needed."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technologies (tech)"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"text",value:i,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&o(s)},className:"shadow-sm border rounded w-full py-2 px-3",placeholder:"Type tech and press Enter or click Add"}),e.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-3 py-2 rounded",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.data.tech.map((s,a)=>e.jsxs("span",{className:"bg-gray-200 px-2 py-1 rounded flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx("button",{type:"button",onClick:()=>x(a),className:"text-red-600 text-sm font-bold ml-1",children:"Ã—"})]},a))}),t.errors.tech&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.tech})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visit Link"}),e.jsx("input",{type:"url",value:t.data.visit_link,onChange:s=>t.setData("visit_link",s.target.value),className:"shadow-sm border rounded w-full py-2 px-3",placeholder:"https://example.com"}),t.errors.visit_link&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.visit_link})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repo Link"}),e.jsx("input",{type:"url",value:t.data.repo_link,onChange:s=>t.setData("repo_link",s.target.value),className:"shadow-sm border rounded w-full py-2 px-3",placeholder:"https://github.com/your/repo"}),t.errors.repo_link&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.repo_link})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:t.processing,className:"bg-green-600 text-white px-4 py-2 rounded",children:t.processing?"Saving...":"Create Project"}),e.jsx("a",{href:route("admin.projects.index"),className:"text-sm text-gray-600 hover:underline",children:"Cancel"})]})]})]})})})})}export{v as default};
